module.exports=function(e){if(console.log("Stream="+e.stream),console.log("playlist="+e.playlist),e.stream)e.onload(e.stream);else if(e.playlist){var t=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/gi,r=Ti.Network.createHTTPClient({timeout:6e3,onload:function(){if(200==this.status)if(/url/.test(this.getResponseHeader("Content-Type"))){for(var n=this.responseText.split("\n"),i=[],o=0;o<n.length;o++)if("#"!=n[o][0]){var a=n[o].match(t);a&&i.push(a)}e.onload(i[0][0])}else r.abort(),console.log("no header"),e.onload(e.playlist);else e.onerror()},onerror:function(){e.onerror()}});r.open("GET",e.playlist),r.send(),console.log(e.playlist)}};