module.exports=function(){var e=!1,t=function(){e||setTimeout(function(){d&&d.go2Segment(a.currentstation),r.StatusLog.setText(a.currentstation),e=!0},500)},r=Ti.UI.createWindow({backgroundColor:"white"}),a={radiostations:require("model/radiostations"),currentstation:Ti.App.Properties.getInt("CURRENT_STATION_INDEX",0),"φ":0},o=360/a.radiostations.length;r.StatusLog=Ti.UI.createLabel({bottom:0,height:20,backgroundColor:"black",width:Ti.UI.FILL,zIndex:9999,color:"silver",textAlign:"center",text:""}),r.Equalizer=Ti.UI.createView({bottom:0,height:20,width:200});var n=Ti.UI.createView({bottom:"20%"});r.add(n),r.add(r.Equalizer),r.stationviews=[];for(var i=[],s=0;s<a.radiostations.length;s++)i[s]="/images/"+a.radiostations[s].logo.toLowerCase()+".png";var d=new(require("ui/common/radiowheel.widget"));return n.add(d.createView({images:i,width:200,anchorPoint:{x:.5,y:3.2}})),a.φ=a.currentstation*o,r.add(r.StatusLog),r.addEventListener("focus",function(){t()}),r.addEventListener("swipe",function(e){if("left"==e.direction||"right"==e.direction){r.PlayStopControl.hide(),r.PlayStopControl.stopPlayer(),r.StatusLog.setText("Radio angehalten."),a.currentstation=d.rotateStep(e.direction),console.log(a.currentstation),console.log(a.radiostations[a.currentstation]),Ti.App.Properties.setInt("CURRENT_STATION_INDEX",a.currentstation);var t=a.radiostations[a.currentstation].logo;r.StatusLog.setText("Könnte jetzt "+t+" zuschalten."),r.PlayStopControl.backgroundImage="/images/play.png"}}),d.addEventListener("ready",function(){r.PlayStopControl.show()}),r.PlayStopControl=new(require("controls/radio.control"))(a),r.PlayStopControl.addEventListener("change",function(e){r.StatusLog.setText(e.message)}),r.add(r.PlayStopControl.createView()),r};