module.exports=function(e){if(console.log("Stream="+e.stream),console.log("playlist="+e.playlist),e.stream)e.onload(e.stream);else if(e.playlist){var t=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/gi,n=Ti.Network.createHTTPClient({timeout:6e3,onload:function(){if(200==this.status)if(/url/.test(this.getResponseHeader("Content-Type"))){for(var i=this.responseText.split("\n"),r=[],o=0;o<i.length;o++)if("#"!=i[o][0]){var a=i[o].match(t);a&&r.push(a)}e.onload(r[0][0])}else n.abort(),console.log("no header"),e.onload(e.playlist);else e.onerror()},onerror:function(){e.onerror()}});n.open("GET",e.playlist),n.send(),console.log(e.playlist)}};