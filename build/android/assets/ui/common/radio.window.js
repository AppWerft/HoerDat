module.exports=function(){var e=!1,t=function(){e||setTimeout(function(){d&&d.go2Segment(r.currentstation),a.StatusLog.setText(r.currentstation),e=!0},500)},a=Ti.UI.createWindow({backgroundColor:"white"}),r={radiostations:require("model/radiostations"),currentstation:Ti.App.Properties.getInt("CURRENT_STATION_INDEX",0),"φ":0},o=360/r.radiostations.length;a.StatusLog=Ti.UI.createLabel({bottom:0,height:20,backgroundColor:"black",width:Ti.UI.FILL,zIndex:9999,color:"silver",textAlign:"center",text:""});var i=Ti.UI.createView({bottom:"20%"});a.add(i),a.stationviews=[];for(var n=[],s=0;s<r.radiostations.length;s++)n[s]="/images/"+r.radiostations[s].logo.toLowerCase()+".png";var d=new(require("ui/common/radiowheel.widget"));return i.add(d.createView({images:n,width:200,anchorPoint:{x:.5,y:3.2}})),r.φ=r.currentstation*o,a.add(a.StatusLog),a.addEventListener("focus",function(){t()}),a.addEventListener("swipe",function(e){if("left"==e.direction||"right"==e.direction){a.PlayStopControl.hide(),a.PlayStopControl.stopPlayer(),a.StatusLog.setText("Radio angehalten."),r.currentstation=d.rotateStep(e.direction),console.log(r.currentstation),console.log(r.radiostations[r.currentstation]),Ti.App.Properties.setInt("CURRENT_STATION_INDEX",r.currentstation);var t=r.radiostations[r.currentstation].logo;a.StatusLog.setText("Könnte jetzt "+t+" zuschalten."),a.PlayStopControl.backgroundImage="/images/play.png"}}),d.addEventListener("ready",function(){a.PlayStopControl.show()}),a.PlayStopControl=new(require("controls/radio.control"))(r),a.PlayStopControl.addEventListener("change",function(e){a.StatusLog.setText(e.message)}),a.add(a.PlayStopControl.createView()),a};