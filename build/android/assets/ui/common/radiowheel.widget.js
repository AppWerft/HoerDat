var Module=function(){return this.eventhandlers={},this._view=Ti.UI.createView({bubbleParent:!1,touchEnabled:!1,borderWidth:1}),this.segmentl채nge=0,this.index=0,this.images=[],this};Module.prototype={createView:function(e){var t=this;return e.images&&e.images.forEach(function(r,n){t._view.add(Ti.UI.createImageView({image:r,touchEnabled:!1,width:e.width||200,height:e.width||200,transform:Ti.UI.create2DMatrix({rotate:360/e.images.length*n,anchorPoint:e.anchorPoint})}))}),e.images&&(this.images=e.images,this.segmentl채nge=360/e.images.length),this.anchorpoint=e.anchorPoint,this._view},rotateStep:function(e){this.index="left"==e?this.index-1:this.index+1;var t=this;this._view.children.forEach(function(e,r){e.animate({duration:100+70*Math.random(),transform:Ti.UI.create2DMatrix({rotate:(t.index+r)*t.segmentl채nge,anchorPoint:t.anchorpoint})},function(){})}),setTimeout(function(){t.fireEvent("ready")},500);var r=(this.images.length-this.index)%this.images.length;return r>=0?r:r+this.images.length},go2Segment:function(e){this.index=(this.images.length-e+this.images.length)%this.images.length;var t=this;this._view.children.forEach(function(e,r){e.animate({duration:100+500*Math.random(),transform:Ti.UI.create2DMatrix({rotate:(t.index+r)*t.segmentl채nge+360,anchorPoint:t.anchorpoint})})})},fireEvent:function(e,t){if(this.eventhandlers[e])for(var r=0;r<this.eventhandlers[e].length;r++)this.eventhandlers[e][r].call(this,t)},addEventListener:function(e,t){this.eventhandlers[e]||(this.eventhandlers[e]=[]),this.eventhandlers[e].push(t)},removeEventListener:function(e,t){if(this.eventhandlers[e]){var r=this.eventhandlers[e].filter(function(e){return e!=t});this.eventhandlers[e]=r}}},module.exports=Module;